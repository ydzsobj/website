(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a85b837"],{"02f4":function(t,e,n){var o=n("4588"),i=n("be13");t.exports=function(t){return function(e,n){var s,r,a=String(i(e)),c=o(n),u=a.length;return c<0||c>=u?t?"":void 0:(s=a.charCodeAt(c),s<55296||s>56319||c+1===u||(r=a.charCodeAt(c+1))<56320||r>57343?t?a.charAt(c):s:t?a.slice(c,c+2):r-56320+(s-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var o=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?o(t,e).length:1)}},"0bfb":function(t,e,n){"use strict";var o=n("cb7c");t.exports=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"11e9":function(t,e,n){var o=n("52a7"),i=n("4630"),s=n("6821"),r=n("6a99"),a=n("69a8"),c=n("c69a"),u=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?u:function(t,e){if(t=s(t),e=r(e,!0),c)try{return u(t,e)}catch(n){}if(a(t,e))return i(!o.f.call(t,e),t[e])}},"214f":function(t,e,n){"use strict";n("b0c5");var o=n("2aba"),i=n("32e9"),s=n("79e5"),r=n("be13"),a=n("2b4c"),c=n("520a"),u=a("species"),l=!s(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=a(t),g=!s(function(){var e={};return e[d]=function(){return 7},7!=""[t](e)}),h=g?!s(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[d](""),!e}):void 0;if(!g||!h||"replace"===t&&!l||"split"===t&&!f){var p=/./[d],v=n(r,d,""[t],function(t,e,n,o,i){return e.exec===c?g&&!i?{done:!0,value:p.call(e,n,o)}:{done:!0,value:t.call(n,e,o)}:{done:!1}}),m=v[0],b=v[1];o(String.prototype,t,m),i(RegExp.prototype,d,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},"28a5":function(t,e,n){"use strict";var o=n("aae3"),i=n("cb7c"),s=n("ebd6"),r=n("0390"),a=n("9def"),c=n("5f1b"),u=n("520a"),l=n("79e5"),f=Math.min,d=[].push,g="split",h="length",p="lastIndex",v=4294967295,m=!l(function(){RegExp(v,"y")});n("214f")("split",2,function(t,e,n,l){var b;return b="c"=="abbc"[g](/(b)*/)[1]||4!="test"[g](/(?:)/,-1)[h]||2!="ab"[g](/(?:ab)*/)[h]||4!="."[g](/(.?)(.?)/)[h]||"."[g](/()()/)[h]>1||""[g](/.?/)[h]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!o(t))return n.call(i,t,e);var s,r,a,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,g=void 0===e?v:e>>>0,m=new RegExp(t.source,l+"g");while(s=u.call(m,i)){if(r=m[p],r>f&&(c.push(i.slice(f,s.index)),s[h]>1&&s.index<i[h]&&d.apply(c,s.slice(1)),a=s[0][h],f=r,c[h]>=g))break;m[p]===s.index&&m[p]++}return f===i[h]?!a&&m.test("")||c.push(""):c.push(i.slice(f)),c[h]>g?c.slice(0,g):c}:"0"[g](void 0,0)[h]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,o){var i=t(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,i,o):b.call(String(i),n,o)},function(t,e){var o=l(b,t,this,e,b!==n);if(o.done)return o.value;var u=i(t),d=String(this),g=s(u,RegExp),h=u.unicode,p=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(m?"y":"g"),y=new g(m?u:"^(?:"+u.source+")",p),_=void 0===e?v:e>>>0;if(0===_)return[];if(0===d.length)return null===c(y,d)?[d]:[];var x=0,k=0,C=[];while(k<d.length){y.lastIndex=m?k:0;var I,S=c(y,m?d:d.slice(k));if(null===S||(I=f(a(y.lastIndex+(m?0:k)),d.length))===x)k=r(d,k,h);else{if(C.push(d.slice(x,k)),C.length===_)return C;for(var w=1;w<=S.length-1;w++)if(C.push(S[w]),C.length===_)return C;k=x=I}}return C.push(d.slice(x)),C}]})},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"520a":function(t,e,n){"use strict";var o=n("0bfb"),i=RegExp.prototype.exec,s=String.prototype.replace,r=i,a="lastIndex",c=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t[a]||0!==e[a]}(),u=void 0!==/()??/.exec("")[1],l=c||u;l&&(r=function(t){var e,n,r,l,f=this;return u&&(n=new RegExp("^"+f.source+"$(?!\\s)",o.call(f))),c&&(e=f[a]),r=i.call(f,t),c&&r&&(f[a]=f.global?r.index+r[0].length:e),u&&r&&r.length>1&&s.call(r[0],n,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(r[l]=void 0)}),r}),t.exports=r},"5a6c":function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return i});n("6b54"),n("28a5"),n("c5f6");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Number(t).toFixed(2)}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=t/100,n=e.toString().split(".");return 1==n.length?(e=e.toString()+".00",e):n.length>1?(n[1].length<2&&(e=e.toString()+"0"),e):void 0}},"5dbc":function(t,e,n){var o=n("d3f4"),i=n("8b97").set;t.exports=function(t,e,n){var s,r=e.constructor;return r!==n&&"function"==typeof r&&(s=r.prototype)!==n.prototype&&o(s)&&i&&i(t,s),t}},"5f1b":function(t,e,n){"use strict";var o=n("23c6"),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var s=n.call(t,e);if("object"!==typeof s)throw new TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==o(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"6b54":function(t,e,n){"use strict";n("3846");var o=n("cb7c"),i=n("0bfb"),s=n("9e1e"),r="toString",a=/./[r],c=function(t){n("2aba")(RegExp.prototype,r,t,!0)};n("79e5")(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?c(function(){var t=o(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?i.call(t):void 0)}):a.name!=r&&c(function(){return a.call(this)})},7173:function(t,e,n){"use strict";var o=n("eed8"),i=n.n(o);i.a},"763e":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"swiper-area"},[n("van-swipe",{attrs:{autoplay:3e3}},[t.goodsInfo.main_video_url?n("van-swipe-item",[n("video",{attrs:{src:t.goodsInfo.main_video_url,controls:"controls",width:"100%"}})]):t._e(),t._l(t.goodsInfo.list_images,function(t,e){return n("van-swipe-item",{key:e},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"image"}],attrs:{width:"100%"}})])})],2)],1),n("van-cell-group",[n("van-cell",[n("div",{staticClass:"goods-title"},[t._v(t._s(t.goodsInfo.title))]),n("div",{staticClass:"goods-price"},[t._v(t._s(t.goodsInfo.money_sign)+t._s(t.goodsInfo.price)+"  "),n("s",{staticClass:"huicolor"},[t._v(t._s(t.goodsInfo.money_sign)+t._s(t.goodsInfo.original_price))])])]),n("van-cell",{staticClass:"goods-express"},[n("van-col",{staticClass:"huicolor",attrs:{span:"4"}},[t._v("运费：")]),n("van-col",{staticClass:"huicolor",attrs:{span:"8"}},[t._v("0")]),n("van-col",{staticClass:"huicolor",attrs:{span:"4"}},[t._v("剩余：")]),n("van-col",{staticClass:"huicolor",attrs:{span:"8"}},[t._v(t._s(t.goodsInfo.stock_num))])],1)],1),n("van-cell-group",{nativeOn:{click:function(e){return t.showSkuAttr(e)}}},[n("van-cell",{staticClass:"goods-express"},[n("van-col",{staticClass:"huicolor",attrs:{span:"4"}},[t._v("选择")]),n("van-col",{attrs:{span:"19"}},[t._v(t._s(t.attrText))]),n("van-col",{attrs:{span:"1"}},[n("van-icon",{attrs:{name:"arrow"}})],1),n("van-col",{attrs:{span:"4"}}),t._l(t.sku.tree,function(e,o){return n("van-col",{key:"col"+o,staticStyle:{height:"30px"}},t._l(e.v,function(e,o){return n("div",{key:o,staticClass:"imgsdiv"},[e.imgUrl?n("van-image",{attrs:{width:"30",height:"30",src:e.imgUrl}}):t._e()],1)}),0)})],2)],1),n("div",[n("van-tabs",{staticClass:"mallFlexd",attrs:{swipeable:"",sticky:""}},[n("van-tab",{attrs:{title:"商品详情"}},[n("div",{staticClass:"detail",domProps:{innerHTML:t._s(t.goodsInfo.detail_desc)}})]),n("van-tab",{staticClass:"comment",attrs:{title:"评论"}},[n("van-list",{attrs:{finished:!0,"finished-text":"没有更多了"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.commentList,function(t){return n("van-cell",{key:t,attrs:{title:t}})}),1)],1)],1)],1),n("van-goods-action",{staticClass:"marginauto"},[n("van-goods-action-icon",{attrs:{info:t.cartNumCount,icon:"cart-o",text:"购物车"},nativeOn:{click:function(e){return t.tocart(e)}}}),n("van-goods-action-icon",{attrs:{icon:"shop-o",text:"店铺"},nativeOn:{click:function(e){return t.tohome(e)}}}),n("van-goods-action-button",{attrs:{type:"warning",text:"加入购物车"},nativeOn:{click:function(e){return t.showSkuCart(e)}}}),n("van-goods-action-button",{attrs:{type:"danger",text:"立即购买"},nativeOn:{click:function(e){return t.showSkuBuy(e)}}})],1),n("van-sku",{staticClass:"left50",attrs:{sku:t.sku,goods:t.goods,"goods-id":t.goodsId,quota:0,"quota-used":0,"close-on-click-overlay":!0,"hide-stock":t.sku.hide_stock,"message-config":t.messageConfig,"show-add-cart-btn":t.showAddCartBtn,"buy-text":t.buyText},on:{"buy-clicked":t.onBuyClicked,"add-cart":t.onAddCartClicked,"sku-selected":t.skuSelected},scopedSlots:t._u([{key:"sku-header-price",fn:function(e){return[n("div",{staticClass:"van-sku__goods-price"},[n("span",{staticClass:"van-sku__price-symbol"},[t._v(t._s(t.goodsInfo.money_sign))]),n("span",{staticClass:"van-sku__price-num"},[t._v(t._s(e.price))])])]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)},i=[],s=(n("ac6a"),n("7f7f"),n("e7e5"),n("d399")),r=n("bc3a"),a=n.n(r),c=n("841a"),u=n.n(c),l=n("5a6c"),f={data:function(){return{attrText:"",goodsId:"",goodsInfo:{},images:["http://images.baixingliangfan.cn/shopGoodsImg/20180415/20180415115202_8432.jpg","http://images.baixingliangfan.cn/shopGoodsImg/20180415/20180415120857_4885.jpg"],commentList:[],loading:!1,finished:!1,show:!1,isBuyCartAttr:"",buyText:"确定",showAddCartBtn:!1,sku:{tree:[],list:[],price:"2.00",stock_num:227,collection_id:2261,none_sku:!1,messages:[{datetime:"0",multiple:"0",name:"留言",type:"text",required:"",placeholder:""}],hide_stock:!1},goods:{title:"测试商品",picture:"https://img.yzcdn.cn/public_files/2017/10/24/2f9a36046449dafb8608e99990b3c205.jpeg"},messageConfig:{}}},computed:{cartNumCount:function(){return this.$store.state.cartNum}},filters:{moneyFilter:function(t){return Object(l["b"])(t)}},created:function(){this.goodsId=this.$route.query.goodsId?this.$route.query.goodsId:this.$route.params.goodsId,console.log(this.goodsId),this.getInfo(),this.$store.state.cartNum=localStorage.cartInfo?0===JSON.parse(localStorage.cartInfo).length?"":JSON.parse(localStorage.cartInfo).length:""},methods:{getInfo:function(){var t=this;a()({url:u.a.getDetailGoodsInfo+"/"+this.goodsId,method:"get",params:{}}).then(function(e){200==e.status&&e.data.good?(t.goodsInfo=e.data.good,t.goods.title=t.goodsInfo.title,t.goods.picture=t.goodsInfo.main_image_url,t.$store.money_sign=t.goodsInfo.money_sign,t.sku.list=t.goodsInfo.list,t.sku.tree=t.goodsInfo.tree||[],t.sku.price=t.goodsInfo.price,t.sku.none_sku=t.goodsInfo.none_sku,t.sku.stock_num=t.goodsInfo.stock_num,t.sku.collection_id=t.goodsInfo.collection_id,t.attrTextFun()):Object(s["a"])("服务器错误，数据获取失败"),console.log(t.goodsInfo)}).catch(function(t){console.log(t)})},addGoodsToCart:function(t){for(var e=localStorage.cartInfo?JSON.parse(localStorage.cartInfo):[],n=!1,o=0;o<e.length;o++)e[o].goodsId===t.goodsId&&e[o].selectedSkuComb.id===t.selectedSkuComb.id&&(e[o].selectedNum+=t.selectedNum,n=!0);if(!n){var i={name:this.goodsInfo.name,title:this.goodsInfo.title,skuAttrText:this.skuAttrTextFun(t)};e.push(Object.assign(i,t))}localStorage.cartInfo=JSON.stringify(e),s["a"].success("添加成功"),this.$router.push({name:"Cart"})},tohome:function(){Object(s["a"])("暂未开放")},tocart:function(){this.$router.push({name:"Cart"})},onLoad:function(){var t=this;setTimeout(function(){for(var e=0;e<10;e++)t.commentList.push(t.commentList.length+1);t.loading=!1,t.commentList.length>=40&&(t.finished=!0)},500)},showSkuBuy:function(){this.show=!0,this.isBuyCartAttr="buy",this.showAddCartBtn=!1,this.buyText="确定"},showSkuCart:function(){this.show=!0,this.isBuyCartAttr="cart",this.showAddCartBtn=!1,this.buyText="确定"},showSkuAttr:function(){this.show=!0,this.isBuyCartAttr="attr",this.showAddCartBtn=!0,this.buyText="立即购买"},onBuyClicked:function(t){if(console.log("onBuyClicked",t),"buy"===this.isBuyCartAttr||"attr"===this.isBuyCartAttr){console.log(this.isBuyCartAttr,"buy买");var e={name:this.goodsInfo.name,title:this.goodsInfo.title,skuAttrText:this.skuAttrTextFun(t)};this.$router.push({name:"Cart",params:{skuData:Object.assign(e,t)}})}else"cart"===this.isBuyCartAttr&&(this.addGoodsToCart(t),console.log(this.isBuyCartAttr,"购物车"))},onAddCartClicked:function(t){console.log("onAddCartClicked",t,this.isBuyCartAttr,"购物车"),this.addGoodsToCart(t)},skuSelected:function(t){},attrTextFun:function(){var t=[];this.sku.tree.forEach(function(e){t.push(e.k)}),this.attrText=t.join("-")},skuAttrTextFun:function(t){var e=[];if(this.sku.tree.length>0)this.sku.tree.forEach(function(n){n.v.forEach(function(n){n.id!==t.selectedSkuComb.s1&&n.id!==t.selectedSkuComb.s2&&n.id!==t.selectedSkuComb.s3||e.push(n)})});else{var n={};n.imgUrl=this.goodsInfo.main_image_url,e.push(n)}return e}}},d=f,g=(n("7173"),n("2877")),h=Object(g["a"])(d,o,i,!1,null,"81188fd8",null);e["default"]=h.exports},"8b97":function(t,e,n){var o=n("d3f4"),i=n("cb7c"),s=function(t,e){if(i(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{o=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),o(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return s(t,n),e?t.__proto__=n:o(t,n),t}}({},!1):void 0),check:s}},9093:function(t,e,n){var o=n("ce10"),i=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,i)}},aa77:function(t,e,n){var o=n("5ca1"),i=n("be13"),s=n("79e5"),r=n("fdef"),a="["+r+"]",c="​",u=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),f=function(t,e,n){var i={},a=s(function(){return!!r[t]()||c[t]()!=c}),u=i[t]=a?e(d):r[t];n&&(i[n]=u),o(o.P+o.F*a,"String",i)},d=f.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=f},aae3:function(t,e,n){var o=n("d3f4"),i=n("2d95"),s=n("2b4c")("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==i(t))}},ac6a:function(t,e,n){for(var o=n("cadf"),i=n("0d58"),s=n("2aba"),r=n("7726"),a=n("32e9"),c=n("84f2"),u=n("2b4c"),l=u("iterator"),f=u("toStringTag"),d=c.Array,g={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(g),p=0;p<h.length;p++){var v,m=h[p],b=g[m],y=r[m],_=y&&y.prototype;if(_&&(_[l]||a(_,l,d),_[f]||a(_,f,m),c[m]=d,b))for(v in o)_[v]||s(_,v,o[v],!0)}},b0c5:function(t,e,n){"use strict";var o=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:o!==/./.exec},{exec:o})},c5f6:function(t,e,n){"use strict";var o=n("7726"),i=n("69a8"),s=n("2d95"),r=n("5dbc"),a=n("6a99"),c=n("79e5"),u=n("9093").f,l=n("11e9").f,f=n("86cc").f,d=n("aa77").trim,g="Number",h=o[g],p=h,v=h.prototype,m=s(n("2aeb")(v))==g,b="trim"in String.prototype,y=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():d(e,3);var n,o,i,s=e.charCodeAt(0);if(43===s||45===s){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:o=2,i=49;break;case 79:case 111:o=8,i=55;break;default:return+e}for(var r,c=e.slice(2),u=0,l=c.length;u<l;u++)if(r=c.charCodeAt(u),r<48||r>i)return NaN;return parseInt(c,o)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(m?c(function(){v.valueOf.call(n)}):s(n)!=g)?r(new p(y(e)),n,h):y(e)};for(var _,x=n("9e1e")?u(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;x.length>k;k++)i(p,_=x[k])&&!i(h,_)&&f(h,_,l(p,_));h.prototype=v,v.constructor=h,n("2aba")(o,g,h)}},eed8:function(t,e,n){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-0a85b837.0801a6f8.js.map